<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Contact Me</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="icon" type="image/png" href="image.png">

<style>
/* =========================== FROSTED GLASS UI =========================== */
:root{
  --bg1:#8ec5fc;
  --bg2:#e0c3fc;
  --text:#555;
  --card:rgba(255,255,255,0.70);
  --card-border:rgba(255,255,255,0.6);
  --accent1:#0077ff;
  --accent2:#005fcc;
  --muted:#777;
  --glass:0 10px 30px rgba(0,0,0,0.12);
  --form-bg: rgba(255,255,255,0.85);
}

html[data-theme="dark"]{
  --bg1:#1e1e2f;
  --bg2:#2c2c45;
  --text:#a3a8a5;
  --card: rgba(255,255,255,0.06);
  --card-border: rgba(255,255,255,0.04);
  --muted:#a3a8a5;
  --form-bg: rgba(255,255,255,0.02);
}

*{ box-sizing:border-box }

html,body{
  height:100%;
  margin:0;
  font-family:Inter,system-ui,sans-serif;
}

body{
  background:linear-gradient(135deg,var(--bg1),var(--bg2));
  display:flex;
  justify-content:center;
  align-items:center;
  padding:24px;
  color:var(--text);
}

/* ================= CARD ================= */
form{
  width:100%;
  max-width:420px;
  background:var(--card);
  border-radius:16px;
  padding:20px;
  box-shadow:var(--glass);
  border:1px solid var(--card-border);
  backdrop-filter: blur(10px) saturate(120%);
}

/* ================= HEADER ================= */
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:16px;
}

h2{
  margin:0;
  font-weight:800;
}

/* ================= TOGGLE ================= */
.theme-toggle{
  border:none;
  background:rgba(255,255,255,0.15);
  color:var(--text);
  border-radius:10px;
  padding:6px 10px;
  cursor:pointer;
  font-size:16px;
}

/* ================= FIELDS ================= */
.field{
  display:flex;
  flex-direction:column;
  gap:6px;
  margin-bottom:14px;
}

label{
  font-size:13px;
  color:var(--muted);
  font-weight:600;
}

input{
  padding:12px 14px;
  border-radius:12px;
  font-size:14px;
  border:1px solid rgba(0,0,0,0.08);
  background:var(--form-bg);
  color:var(--text);
  outline:none;
}

input:focus{
  border-color:var(--accent1);
  box-shadow:0 0 0 2px rgba(0,119,255,0.15);
}

/* ================= CAPTCHA ================= */
.captcha-wrapper{
  display:flex;
  justify-content:center;
  margin:14px 0;
}

.captcha-wrapper .g-recaptcha{
  transform-origin:center;
}

@media (max-width:360px){
  .captcha-wrapper .g-recaptcha{
    transform:scale(0.85);
  }
}

/* ================= BUTTON ================= */
input[type="submit"]{
  width:100%;
  padding:12px;
  border-radius:12px;
  font-size:15px;
  font-weight:800;
  border:none;
  cursor:pointer;
  background:linear-gradient(180deg,var(--accent1),var(--accent2));
  color:white;
  transition:.15s ease;
}

input[type="submit"]:hover{
  transform:translateY(-2px);
  box-shadow:0 6px 18px rgba(0,0,0,0.15);
}
</style>

<!-- Google reCAPTCHA -->
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>

<body>

<form id="form">
  <div class="header">
    <h2>Contact Me</h2>
    <button type="button" class="theme-toggle" id="toggle">ðŸŒ™</button>
  </div>

  <div class="field">
    <label>Title *</label>
    <input type="text" name="title" required>
  </div>

  <div class="field">
    <label>Name</label>
    <input type="text" name="name" id="name">
  </div>

  <input type="hidden" name="time" id="time">

  <div class="field">
    <label>Message *</label>
    <input type="text" name="message" required>
  </div>

  <div class="field">
    <label>Email *</label>
    <input type="email" name="email" required>
  </div>

  <div class="captcha-wrapper">
    <div class="g-recaptcha"
         data-sitekey="6LcoWj8sAAAAAF6FZF0sDjvxWtRVtyyzXDMmwq7P"></div>
  </div>

  <input type="submit" id="button" value="Send Email">
</form>

<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<script>
emailjs.init('B_0j6Y68xHGMOWxqe');

/* ===== Theme Toggle ===== */
const toggle = document.getElementById('toggle');
toggle.onclick = () => {
  const html = document.documentElement;
  html.dataset.theme = html.dataset.theme === 'dark' ? 'light' : 'dark';
  toggle.textContent = html.dataset.theme === 'dark' ? 'â˜€ï¸' : 'ðŸŒ™';
};

/* ===== Helpers ===== */
function timestamp(){
  const d = new Date();
  return `${String(d.getFullYear()).slice(-2)}/${String(d.getMonth()+1).padStart(2,'0')}/${String(d.getDate()).padStart(2,'0')} ` +
         `${String(d.getHours()).padStart(2,'0')}:${String(d.getMinutes()).padStart(2,'0')}:${String(d.getSeconds()).padStart(2,'0')}`;
}

function getReturnUrl(){
  return new URLSearchParams(location.search).get('return');
}

/* ===== Submit ===== */
document.getElementById('form').addEventListener('submit',function(e){
  e.preventDefault();

  if(!grecaptcha.getResponse()) return;

  const name = document.getElementById('name');
  if(!name.value.trim()) name.value = 'Anonymous';

  document.getElementById('time').value = timestamp();

  emailjs.sendForm('default_service','template_iqh8z6n',this)
    .then(()=>{
      const r = getReturnUrl();
      if(r) location.href = decodeURIComponent(r);
      else{
        this.reset();
        grecaptcha.reset();
      }
    });
});
</script>

</body>
</html>
